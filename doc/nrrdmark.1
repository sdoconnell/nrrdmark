.\" Automatically generated by Pandoc 2.16.1
.\"
.TH "NRRDMARK" "1" "January 3, 2022" "nrrdmark 0.0.2" "User Manual"
.hy
.SH NAME
.PP
nrrdmark - Terminal-based bookmark management for nerds.
.SH SYNOPSIS
.PP
\f[B]nrrdmark\f[R] \f[I]command\f[R] [\f[I]OPTION\f[R]]\&...
.SH DESCRIPTION
.PP
\f[B]nrrdmark\f[R] is a terminal-based bookmark management program with
advanced search options, and data stored in local text files.
It can be run in either of two modes: command-line or interactive shell.
.SH OPTIONS
.TP
\f[B]-h\f[R], \f[B]\[en]help\f[R]
Display help information.
.TP
\f[B]-c\f[R], \f[B]\[en]config\f[R] \f[I]file\f[R]
Use a non-default configuration file.
.SH COMMANDS
.PP
\f[B]nrrdmark\f[R] provides the following commands.
.TP
\f[B]archive\f[R] \f[I]alias\f[R] [\f[I]OPTION\f[R]]
Move a bookmark to the archive directory of your data directory (by
default, $HOME/.local/share/nrrdmark/archive).
The user will be prompted for confirmation.
Archiving a bookmark removes it from all lists, and is designed as a
method to save old bookmarks while removing them from \f[B]list\f[R]
output.
.RS
.PP
\f[I]OPTIONS\f[R]
.TP
\f[B]-f\f[R], \f[B]\[en]force\f[R]
Force the archive operation, do not prompt for confirmation.
.RE
.TP
\f[B]config\f[R]
Edit the \f[B]nrrdmark\f[R] configuration file.
.TP
\f[B]delete (rm)\f[R] \f[I]alias\f[R] [\f[I]OPTION\f[R]]
Delete a bookmark file.
The user will be prompted for confirmation.
.RS
.PP
\f[I]OPTIONS\f[R]
.TP
\f[B]-f\f[R], \f[B]\[en]force\f[R]
Force deletion, do not prompt for confirmation.
.RE
.TP
\f[B]edit\f[R] \f[I]alias\f[R]
Edit or view a bookmark file (opens in $EDITOR).
If $EDITOR is not defined, an error message will report that.
.TP
\f[B]info\f[R] \f[I]alias\f[R] [\f[I]OPTION\f[R]]
Show the full metadata about a bookmark.
.RS
.PP
\f[I]OPTIONS\f[R]
.TP
\f[B]-p\f[R], \f[B]\[en]page\f[R]
Page the command output through $PAGER.
.RE
.TP
\f[B]list (ls)\f[R] \f[I]view\f[R] [\f[I]OPTION\f[R]]
List bookmarks matching one of the following views:
.RS
.IP \[bu] 2
\f[I]all\f[R] (\f[I]lsa\f[R]) : All bookmarks.
.IP \[bu] 2
\f[I]tags\f[R] (\f[I]lst\f[R]) : A list of tags, with a count of
matching bookmarks.
.IP \[bu] 2
<\f[I]tag\f[R]> : All bookmarks with a specific tag.
.IP \[bu] 2
<\f[I]alias\f[R]> : A specific bookmark alias.
.PP
\f[I]OPTIONS\f[R]
.TP
\f[B]-p\f[R], \f[B]\[en]page\f[R]
Page the command output through $PAGER.
.RE
.TP
\f[B]modify (mod)\f[R] \f[I]alias\f[R] [\f[I]OPTION\f[R]]\&...
Modify the metadata for a bookmark.
.RS
.PP
\f[I]OPTIONS\f[R]
.TP
\f[B]\[en]description\f[R] \f[I]description\f[R]
The bookmark description.
.TP
\f[B]\[en]new-alias\f[R] \f[I]alias\f[R]
Change the alias for a bookmark.
.TP
\f[B]\[en]tags\f[R] \f[I]tag\f[R][,\f[I]tag\f[R]]
Tags assigned to the bookmark.
This can be a single tag or multiple tags in a comma-delimited list.
Normally with this option, any existing tags assigned to the bookmark
will be replaced.
However, this option also supports two special operators: \f[B]+\f[R]
(add a tag to the existing tags) and \f[B]\[ti]\f[R] (remove a tag from
the existing tags).
For example, \f[I]\[en]tags +documentation\f[R] will add the
\f[I]documentation\f[R] tag to the existing tags on a bookmark, and
\f[I]\[en]tags \[ti]testing,experimental\f[R] will remove both the
\f[I]testing\f[R] and \f[I]experimental\f[R] tags from a bookmark.
.TP
\f[B]\[en]title\f[R] \f[I]title\f[R]
The bookmark title.
.TP
\f[B]\[en]url\f[R] \f[I]url\f[R]
The bookmark url.
.RE
.TP
\f[B]new\f[R] \f[I]url\f[R] [\f[I]OPTION\f[R]]\&...
Create a new bookmark.
If \f[I]description\f[R] and/or \f[I]title\f[R] are not provided,
\f[B]nrrdmark\f[R] will attempt to access the URL and read title and
description information from the website.
.RS
.PP
\f[I]OPTIONS\f[R]
.TP
\f[B]\[en]description\f[R]
The bookmark description.
.TP
\f[B]\[en]tags\f[R]
Tags assigned to the bookmark.
See the \f[B]\[en]tags\f[R] option of \f[B]modify\f[R].
.TP
\f[B]\[en]title\f[R]
The bookmark title.
.RE
.TP
\f[B]open\f[R] \f[I]alias\f[R] [\f[I]OPTION\f[R]]
Open a bookmark in a web browser (either defined by the
\f[I]browser_cmd\f[R] command config option, or the detected system
default web browser).
.RS
.PP
\f[I]OPTIONS\f[R]
.TP
\f[B]-n\f[R], \f[B]\[en]new-window\f[R]
Try to open the bookmark in a new browser window, rather than a new tab
in the existing window.
.RE
.TP
\f[B]query\f[R] \f[I]searchterm\f[R] [\f[I]OPTION\f[R]]\&...
Search for one or more bookmarks and produce plain text output (by
default, tab-delimited text).
.RS
.PP
\f[I]OPTIONS\f[R]
.TP
\f[B]-l\f[R], \f[B]\[en]limit\f[R]
Limit the output to one or more specific fields (provided as a
comma-delimited list).
.TP
\f[B]-j\f[R], \f[B]\[en]json\f[R]
Output in JSON format rather than the default tab-delimited format.
.RE
.TP
\f[B]search\f[R] \f[I]searchterm\f[R] [\f[I]OPTION\f[R]]
Search for one or more bookmarks and output a tabular list (same format
as \f[B]list\f[R]).
.RS
.PP
\f[I]OPTIONS\f[R]
.TP
\f[B]-p\f[R], \f[B]\[en]page\f[R]
Page the command output through $PAGER.
.RE
.TP
\f[B]shell\f[R]
Launch the \f[B]nrrdmark\f[R] interactive shell.
.TP
\f[B]version\f[R]
Show the application version information.
.SH NOTES
.SS Archiving a bookmark
.PP
Use the \f[B]archive\f[R] subcommand to move the bookmark file to the
subdirectory archive in the the bookmarks data directory.
Confirmation will be required for this operation unless the
\f[I]\[en]force\f[R] option is also used.
.PP
Archived bookmarks will no longer appear in lists of bookmarks.
This can be useful for retaining old bookmarks without resulting in
endlessly growing bookmark lists.
To review archived bookmarks, create an alterate config file with a
\f[I]data_dir\f[R] pointing to the archive folder, and an alias such as:
.IP
.nf
\f[C]
alias nrrdmark-archive=\[dq]nrrdmark -c $HOME/.config/nrrdmark/config.archive\[dq]
\f[R]
.fi
.SS Search and query
.PP
There are two command-line methods for filtering the presented list of
bookmarks: \f[B]search\f[R] and \f[B]query\f[R].
These two similar-sounding functions perform very different roles.
.PP
Search results are output in the same tabular, human-readable format as
that of \f[B]list\f[R].
Query results are presented in the form of tab-delimited text (by
default) or JSON (if using the \f[I]-j\f[R] or \f[I]\[en]json\f[R]
option) and are primarily intended for use by other programs that are
able to consume structured text output.
.PP
\f[B]search\f[R] and \f[B]query\f[R] use the same filter syntax.
The most basic form of filtering is to simply search for a keyword or
string in the bookmark title, description, and/or url:
.IP
.nf
\f[C]
nrrdmark search <search_term>
\f[R]
.fi
.PP
\f[B]NOTE:\f[R] search terms are case-insensitive.
.PP
If the search term is present in either the bookmark \f[I]title\f[R],
\f[I]description\f[R], or \f[I]url\f[R], the bookmark will be displayed.
.PP
Optionally, a search type may be specified.
The search type may be one of \f[I]uid\f[R], \f[I]alias\f[R],
\f[I]description\f[R], \f[I]tags\f[R], \f[I]title\f[R], or
\f[I]url\f[R].
If an invalid search type is provided, the search will ignore it.
To specify a search type, use the format:
.IP
.nf
\f[C]
nrrdmark search [search_type=]<search_term>
\f[R]
.fi
.PP
You may combine search types in a comma-delimited structure.
All search criteria must be met to return a result.
.PP
The tags search type may also use the optional \f[B]+\f[R] operator to
search for more than one tag.
Any matched tag will return a result.
.PP
The special search term \f[I]any\f[R] can be used to match all
bookmarks, but is only useful in combination with an exclusion to match
all records except those excluded.
.SS Exclusion
.PP
In addition to the search term, an exclusion term may be provided.
Any match in the exclusion term will negate a match in the search term.
An exclusion term is formatted in the same manner as the search term,
must follow the search term, and must be denoted using the \f[B]%\f[R]
operator:
.IP
.nf
\f[C]
nrrdmark search [search_type=]<search_term>%[exclusion_type=]<exclusion_term>
\f[R]
.fi
.SS Search examples
.PP
Search for any bookmark with \[lq]projectx\[rq] in the title,
description, or URL:
.IP
.nf
\f[C]
nrrdmark search projectx
\f[R]
.fi
.PP
Search for any bookmark with \[lq]projectx\[rq] specifically in the
title:
.IP
.nf
\f[C]
nrrdmark search title=projectx
\f[R]
.fi
.PP
Search for all bookmarks tagged \[lq]development\[rq] or
\[lq]testing\[rq] with a title containing \[lq]projectx\[rq], except for
those that have `domain.tld' in the URL:
.IP
.nf
\f[C]
nrrdmark search title=projectx,tags=development+testing%url=domain.tld
\f[R]
.fi
.SS Query and limit
.PP
The query function uses the same syntax as search but will output
information in a form that may be read by other programs.
The standard fields returned by query for tab-delimited output are:
.IP
.nf
\f[C]
- uid (string)
- alias (string)
- title (string)
- url (string)
- tags (list)
\f[R]
.fi
.PP
List fields are returned in standard Python format: [`item 1', `item 2',
\&...].
Empty lists are returned as [].
Empty string fields will appear as multiple tabs.
.PP
JSON output returns all fields for a record, including fields not
provided in tab-delimited output.
.PP
The query function may also use the \f[B]\[en]limit\f[R] (\f[B]-l\f[R])
option.
This is a comma-separated list of fields to return.
The \f[B]\[en]limit\f[R] option does not have an effect on JSON output.
.SS Paging
.PP
Output from \f[B]list\f[R] and \f[B]search\f[R] can get long and run
past your terminal buffer.
You may use the \f[B]-p\f[R] or \f[B]\[en]page\f[R] option in
conjunction with \f[B]search\f[R], \f[B]info\f[R], or \f[B]list\f[R] to
page output.
.SH FILES
.TP
\f[B]\[ti]/.config/nrrdmark/config\f[R]
Default configuration file
.TP
\f[B]\[ti]/.local/share/nrrdmark\f[R]
Default data directory
.SH AUTHORS
.PP
Written by Sean O\[cq]Connell <https://sdoconnell.net>.
.SH BUGS
.PP
Submit bug reports at: <https://github.com/sdoconnell/nrrdmark/issues>
.SH SEE ALSO
.PP
Further documentation and sources at:
<https://github.com/sdoconnell/nrrdmark>
